pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
--paddle
padx = 52
pady = 122
padw = 24
padh = 4

--ball
ballx = 64
bally = 64
ballsize = 3
ballxdir = 5
ballydir = -3

--score
score = 0

--lives
lives = 3

--music
playing = 0
music(0)

function movepaddle()
 if btn(0) then
  padx -= 3
 elseif btn(1) then
  padx += 3
 end
end

function moveball()
 ballx += ballxdir
 bally += ballydir
end

function bounceball()
 --left
 if ballx<ballsize then
  ballxdir = -ballxdir
  sfx(0)
 end
 
 --right
 if ballx>128-ballsize then
  ballxdir = -ballxdir
  sfx(0)
 end
 
 --top
 if bally<ballsize then
  ballydir = -ballydir
  sfx(0)
 end
end

function bouncepaddle()
 if ballx >= padx and
 ballx <= padx + padw and
 bally+ballsize > pady then
  sfx(0)
  score += 10 --increase the score on a hit!
  ballydir = -ballydir
 end
end

function losedeadball()
 if bally > 128-ballsize then
  if lives > 0 then
   --next life
   sfx(3)
   bally = 24
   lives -= 1
  else
   --gameover
   ballydir = 0
   ballxdir = 0
   bally = 64
   ballx = 64
   sfx(1)
  end
 end
end

function _update()
 movepaddle()
 bounceball()
 bouncepaddle()
 moveball()
 losedeadball()
end

function _draw()
 --clear the screen
 rectfill(0,0,128,128,3)
 
 --draw lives
 for i=1,lives do
  spr(004,90+i*8,4)
 end
 
 --draw the score
 print(score,12,6,15)
 
 --draw the paddle
 rectfill(padx,pady,padx+padw,pady+padh,12) 

 --draw the ball
 circfill(ballx,bally,ballsize,15)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000ff0ff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000fffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000fffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000000000000000000000000000fffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070000000000000000000000000000fff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000900003005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
010200003105026050230502e05024050210501d0501e05023050230502b050290502f050320502e0502e05025050360502d0502d0503d05032050200501805006050070500a0500605006050080500205000000
01100000091610116101363253630d363193632536201362013660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
010600003705033050300502e0502a0502005019050120500a0500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0010001a0c0660d0660e0660f06610066110661206613066140661506616066170661806600000000660106602066030660406605066060660706608066090660a0660b066000000000000000000000000000000
__music__
02 04434044

